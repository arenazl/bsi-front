

  <div class="card">

    <h4 style="padding-top: 10px;padding-bottom: 10px;border-bottom: 1px solid #b3b3b3;padding-left: 10px;">

      <button class="btn btn-outline-primary" style="
      margin-right: 10px;
      margin-left: 10px;
      display: inline-grid !important;
  " (click)="getGamesByAgenda(1)">
        <span  class="material-icons">
          calendar_month
        </span>
        Ferrari
      </button>
      <button class="btn btn-outline-primary" style="
      margin-right: 10px;
      display: inline-grid !important;
  " (click)="getGamesByAgenda(2)">
        <span  class="material-icons">
          calendar_month
        </span>
        Sinelli
      </button>
      <button class="btn btn-outline-primary" style="
      margin-right: 10px;
      display: inline-grid !important;
  " (click)="getGamesByAgenda(3)">
        <span  class="material-icons">
          calendar_month
        </span>
        Nordelta
      </button>

      Documentacion / Turnos
      <span>{{span_agenda}}</span>
    </h4>

    <div class="card-header" style="background-color: inherit;">

      <div class="row">

        <div class="col-md-2 col-sm-12 pb-2">
          <select class="form-select" aria-label="Default select example" (change)="onEstadoSelect($event)">
            <option>Elija un estado</option>
            <option value="1">Nuevas (no filtran por fecha)</option>
            <option selected value="2">Asignacion Turnos (no filtran por fecha)</option>
            <option value="3">Sin Turno (no filtran por fecha)</option>
            <option value="4">Con Turno Asignado</option>
            <option value="8">Con Turno y Pago Completo</option>
            <option value="6">Rechazadas</option>
            <option value="5">Finalizadas</option>
        </select>
        </div>

        <div class="col-md-2 col-sm-12 pb-2">
          <select class="form-select" aria-label="Default select example" (change)="onGrupoSelect($event)">
            <option>Elija un grupo</option>
            <option value="2">New life</option>
            <option value="3">Real State</option>
            <option value="1">C&J</option>
            <option value="4">AR</option>
            <option selected value="0">Todos los grupos</option>
        </select>
        </div>

        <div class="col-md-4 col-sm-12 pb-2">
          <span style="margin-right: 10px;">Fecha Se√±a:</span>
          <input type="date" (change)="getGamesFromDate_sena_start($event)" id="star_new_ctrl" name="trip-start" value="{{date_sena_start}}" min="2019-01-01:09:00" max="2040-12-31:18:00"
          style="width: 40%; background: transparent;border-radius: 8px;border: 2px solid #00000040;padding: 5px;font-size: 110%;color: black;">

          <input type="date" (change)="getGamesFromDate_sena_end($event)" id="end_ctrl" name="trip-start" value="{{date_sena_end}}" min="2019-01-01" max="2040-12-31"
          style="width: 35%; background: transparent;border-radius: 8px;border: 2px solid #00000040;padding: 5px;font-size: 110%;color: black">
        </div>

        <div class="col-md-4 col-sm-12 pb-2">
          <span style="margin-right: 10px;">Fecha Turno:</span>
          <input type="date" (change)="getGamesFromDate_firma_start($event)" id="star_ctrl" name="trip-start" value="{{date_firma_start}}" min="2019-01-01" max="2040-12-31"
          style="width: 37%; background: transparent;border-radius: 8px;border: 2px solid #00000040;padding: 5px;font-size: 110%;color: black;">

          <input type="date" (change)="getGamesFromDate_firma_end($event)" id="end_ctrl" name="trip-start" value="{{date_firma_end}}" min="2019-01-01" max="2040-12-31"
          style="width: 35%; background: transparent;border-radius: 8px;border: 2px solid #00000040;padding: 5px;font-size: 110%;color: black">
      </div>

      </div>

    </div>

    <div class="card-body" style="padding: 0;">

      <div class="table-responsive">

      <table class="table table table-condensed table-hover">
        <thead>
            <tr>
                <th class="">Descargar<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>
                <th class="">Info<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>
                <th class="">Denominacion&nbsp;<a ng-click="sort_by('line')"><i class="icon-sort"></i></a></th>
                <th class="">Editar<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>
                <th class="">Estado&nbsp;<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>
                <th class="">F. Venta&nbsp;<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>
                <th class="">Grupo&nbsp;<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>
                <th class="">Lote&nbsp;<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>
                <th class="">N. Venta<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>
                <th class="">Total&nbsp;<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>
                <th class="">Parcial&nbsp;<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>
                <th class="">Pagar<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>
                <th class="">N. Pago&nbsp;<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>
                <th class="">Turno<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>
                <th class="">Asignar&nbsp;<a ng-click="sort_by('awayTeamName')"><i class="icon-sort"></i></a></th>
                <th class="">N. Firma&nbsp;<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>
                <!--<th class="">N. Cierre<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>-->
                <th class="">Archivar<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>
                 <!--<th class="">Rechazar<a ng-click="sort_by('HomeTeam')"><i class="icon-sort"></i></a></th>-->
            </tr>
        </thead>

        <tbody>

          <ng-container *ngFor="let sol of solicitudes">

            <ng-container *ngIf="isFirstElemenet(sol)">
              <tr>
                <td colspan="9" style="visibility: hidden;height: 35px;"></td>
              </tr>

            </ng-container>

            <tr class="{{setCss(sol)}}" >

              <td>

                <button (click)="downloadReal(sol)" class="btn-ellipsis py-2">
                  <span class="material-icons align-middle">download </span>
                  <span>({{sol.fileCant}})</span>
                  <span id="file_span_{{sol.id}}"></span>
                </button>

              </td>

              <td>

                <button id="file_txt_{{sol.id}}" (click)="download(sol)" class="btn-ellipsis py-2">
                  <span class="material-icons align-middle">info</span>
                  <span id="info_span_{{sol.id}}"></span>
                </button>

              </td>

              <td>{{sol.denominacion}}</td>
              <td>

                <div *ngIf="sol.estado == 'Documentacion'">

                  <button class="btn btn-outline-primary" (click)="editar(sol)">
                    <span  class="material-icons">
                      edit
                    </span>

                  </button>
                </div>
              </td>

              <td>{{sol.estado}}</td>
              <td style="font-weight: normal;text-overflow: inherit;"> {{sol.timestamp | date : 'dd/MM/yyyy':'-0000'}}</td>
              <td>{{sol.grupo}}</td>
              <td>{{sol.lote_append}}</td>
              <td data-bs-toggle="tooltip" data-bs-placement="top" title="{{sol.observaciones_v}}">{{sol.observaciones_v}}</td>
              <td>{{sol.lote_total | currency : 'USD' : 'symbol' : '1.0-0'}}</td>
              <td>{{sol.refuerzo_total + sol.pago_total | currency : 'USD' : 'symbol' : '1.0-0'}}</td>
              <td>

                <div *ngIf="sol.estado == 'Documentacion'">

                  <button class="btn btn-outline-primary" (click)="enviarCuota(sol)">
                    <span  class="material-icons">
                      attach_money
                    </span>

                  </button>
                </div>

              </td>
              <td data-bs-toggle="tooltip" data-bs-placement="top" title="{{sol.observaciones_p}}" class="">{{sol.observaciones_p}}</td>
              <td style="font-weight: bold;text-overflow: inherit;"> {{sol.fecha_firma | date : 'dd/MM/yyyy HH:mm':'-0000'}}</td>

              <td>

                <div *ngIf="sol.estado == 'Documentacion'">

                  <button class="btn btn-outline-info" (click)="enviarFirma(sol)">
                    <span class="material-icons">
                    calendar_month
                    </span>

                  </button>

                </div>

              </td>

              <td title="{{sol.observaciones_f}}" class="">{{sol.observaciones_f}}</td>
              <!--<td title="{{sol.observaciones_a}}" class="">{{sol.observaciones_a}}</td>-->


              <td>

                <div *ngIf="sol.estado == 'Documentacion' && sol.fecha_firma">

                  <button class="btn btn-outline-success" (click)="aprobar(sol)">
                    <span class="material-icons">
                    done_all
                    </span>

                  </button>

                </div>

              </td>

              <!--
              <td class=>

                <div *ngIf="sol.estado == 'Documentacion'">

                  <button class="btn btn-outline-danger" (click)="rechazar(sol)">
                    <span class="material-icons">
                    delete
                    </span>

                  </button>

                </div>

              </td>
            -->

            </tr>
          </ng-container>
        </tbody>
      </table>


      </div>


    </div>

    <div *ngIf="ld_header" class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>

 <!-- Button trigger modal -->
<button type="button" class="btn btn-primary" id="modal_btn" style="visibility: hidden;" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
  Launch static backdrop modal
</button>

 <!-- Button trigger modal -->
 <button type="button" class="btn btn-primary" id="modal_btn_all" style="visibility: hidden;" data-bs-toggle="modal" data-bs-target="#staticBackdrop_all">
  Launch static backdrop modal
</button>

  </div>

  <!-- Modal -->
  <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog" style="
    max-width: 85%;
    margin:auto;
  ">
      <div class="modal-content mt-5">
        <div class="modal-header">

          <h2 class="modal-title" id="staticBackdropLabel">{{sol_modal.barrio}}</h2>

          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                  style="font-weight: 800;border: 2px solid var(--bs-black);border-radius: 28px;margin-right: 3px;margin-top: -4px;">
          </button>

        </div>
        <div class="modal-body" style="
        font-size: 170%;
        display: block;
        margin:auto;
        ">
          <div class="rw">
            <span class="modal-label d-inline">Fecha Venta:</span>
            <span class="modal-content d-inline">{{sol_modal.timestamp | date : 'dd/MM/yyyy' }}</span>
          </div>
          <div class="ow">
            <span class="modal-label d-inline">Nro Lote:</span>
            <span class="modal-content d-inline">{{sol_modal.lote_append}}</span>
          </div>

          <div class="rw">
            <span class="modal-label d-inline">Nombre Propietario:</span>
            <span class="modal-content d-inline">{{sol_modal.denominacion}}</span>
          </div>
          <div class="rw">
            <span class="modal-label d-inline">Dni:</span>
            <span class="modal-content d-inline">{{sol_modal.dni}}</span>
          </div>
          <div class="rw">
            <span class="modal-label d-inline">Estado Civil:</span>
            <span class="modal-content d-inline">{{sol_modal.estado_civil}}</span>
          </div>
          <div class="rw">
            <span class="modal-label d-inline">Nro Contacto:</span>
            <span class="modal-content d-inline">{{sol_modal.telefono}}</span>
          </div>
          <div class="ow">
            <span class="modal-label d-inline">Total Lote:</span>
            <span class="modal-content d-inline">{{sol_modal.lote_total}} usd</span>
          </div>
          <div class="rw">
            <span class="modal-label d-inline">Se√±a:</span>
            <span class="modal-content d-inline">{{sol_modal.refuerzo_total}}</span>
          </div>
          <div class="ro">
            <span class="modal-label d-inline">Abonado hasta ahora:</span>
            <span class="modal-content d-inline">{{lbl_pago_parcial}}</span>
          </div>
          <div class="ro">
            <span class="modal-label d-inline">Resta Pagar:</span>
            <span class="modal-content d-inline">{{lbl_resta}} usd</span>
          </div>
          <div class="rw">
            <span class="modal-label d-inline">Vendedor:</span>
            <span class="modal-content d-inline">{{sol_modal.grupo}}</span>
          </div>
        </div>

        <ng-container *ngFor="let blob of sol_modal.blobArray; let i = index">

        <div class="row" class="mt-3 mb-3">

          <div class="col-md-12 col-sm-12">

            <img id="img_{{i}}" src="{{blob}}"  height="500" alt=""
            style="display: block;
                  width: 100%;
                  height: 100%;padding-bottom: 0 !important;
                  padding-top: 2% !important;
                  padding: 20%;"
            >

          </div>

        </div>

        </ng-container>


        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">cerrar</button>
        </div>
      </div>
    </div>
  </div>

<!-- Modal all -->
<div class="modal fade" id="staticBackdrop_all" style="background: var(--bs-gray-700);" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">


      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

<ng-container *ngFor="let sol of solicitudes">

  <div class="modal-header">

    <h2 class="modal-title" id="staticBackdropLabel">{{sol.barrio}}</h2>

  </div>

  <div class="modal-body" style="font-size: 140%;">

    <div class="rw">
      <span class="modal-label d-inline">Fecha Venta:</span>
      <span class="modal-content d-inline">{{sol.timestamp | date : 'dd/MM/yyyy' }}</span>
    </div>
    <div class="rw">
      <span class="modal-label d-inline">Nro Lote:</span>
      <span class="modal-content d-inline">{{sol.lote_append}}</span>
    </div>

    <div class="rw">
      <span class="modal-label d-inline">Nombre Propietario:</span>
      <span class="modal-content d-inline">{{sol.denominacion}}</span>
    </div>
    <div class="rw">
      <span class="modal-label d-inline">Dni:</span>
      <span class="modal-content d-inline">{{sol.dni}}</span>
    </div>
    <div class="rw">
      <span class="modal-label d-inline">Estado Civil:</span>
      <span class="modal-content d-inline">{{sol.estado_civil}}</span>
    </div>
    <div class="rw">
      <span class="modal-label d-inline">Nro Contacto:</span>
      <span class="modal-content d-inline">{{sol.telefono}}</span>
    </div>
    <div class="rw">
      <span class="modal-label d-inline">Total Lote:</span>
      <span class="modal-content d-inline">{{sol.lote_total}} usd</span>
    </div>
    <div class="rw">
      <span class="modal-label d-inline">Se√±a:</span>
      <span class="modal-content d-inline">{{sol.refuerzo_total}}</span>
    </div>
    <div class="rw">
      <span class="modal-label d-inline">Abonado hasta ahora:</span>
      <span class="modal-content d-inline">{{sol.parcial_lbl}}</span>
    </div>
    <div class="ro">
      <span class="modal-label d-inline">Resta Pagar:</span>
      <span class="modal-content d-inline">{{sol.resta_lbl}} usd</span>
    </div>
    <div class="ow">
      <span class="modal-label d-inline">Vendedor:</span>
      <span class="modal-content d-inline">{{sol.grupo}}</span>
    </div>
  </div>

</ng-container>

<div class="modal-footer">
  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">cerrar</button>
</div>

</div>
</div>
</div>

